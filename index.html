<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">

<!-- ë¸Œë¼ìš°ì € íƒ­ ì œëª© -->
<title>ğŸ¤« Secret Search v5.4.1 ğŸ¤«</title>

<style>
/* ===============================
   ğŸŒ™ ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ë³€ìˆ˜
   =============================== */
:root{
  --bg:#0d0d0d;        /* ì „ì²´ ë°°ê²½ */
  --bg-card:#1e1e1e;  /* ì¹´ë“œ ë°°ê²½ */
  --bg-soft:#2a2a2a;  /* ì…ë ¥ì°½, ë¦¬ìŠ¤íŠ¸ ë°°ê²½ */
  --text:#f5f5f5;     /* ê¸°ë³¸ ê¸€ììƒ‰ */
  --border:#333;      /* í…Œë‘ë¦¬ ìƒ‰ */
}

/* ë¼ì´íŠ¸ ëª¨ë“œì¼ ë•Œ ë³€ìˆ˜ ê°’ ë³€ê²½ */
body.light{
  --bg:#f4f4f4;
  --bg-card:#ffffff;
  --bg-soft:#e6e6e6;
  --text:#111;
  --border:#ccc;
}

/* ê¸°ë³¸ ì„¤ì • */
html,body{
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont;
}

/* ì „ì²´ ë°°ê²½ */
body{
  min-height:100vh;
  background:linear-gradient(180deg,var(--bg),#111);
  color:var(--text);
  transition:.3s;
}

/* ===============================
   ğŸš¨ ìƒë‹¨ ê²½ê³  ë°”
   =============================== */
.notice-bar{
  background:#b00020;
  color:#fff;
  text-align:center;
  padding:8px;
  font-size:.85rem;
}

/* ===============================
   ğŸ§  í—¤ë”
   =============================== */
header{
  text-align:center;
  padding:25px 10px;
}
h1{margin:0;font-size:2.2rem;}
button{cursor:pointer}

/* ===============================
   ğŸ“ ì „ì²´ ë ˆì´ì•„ì›ƒ
   ë©”ì¸ 2.5 : ì‚¬ì´ë“œ 1
   =============================== */
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
  display:grid;
  grid-template-columns:2.5fr 1fr;
  gap:20px;
}

/* ===============================
   ğŸ“¦ ì¹´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼
   =============================== */
.card{
  background:var(--bg-card);
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 25px rgba(0,0,0,.4);
}

/* ===============================
   ğŸ” ê²€ìƒ‰ ì˜ì—­
   =============================== */
.search-box{display:flex;gap:10px;}
.search-box input{
  flex:1;
  padding:14px;
  font-size:1.05rem;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--bg-soft);
  color:var(--text);
}
.search-box button{
  padding:14px 18px;
  border-radius:12px;
  border:none;
  background:#4f7cff;
  color:#fff;
}

/* ===============================
   âœ¨ ìë™ì™„ì„± ëª©ë¡
   =============================== */
#suggestions{
  margin-top:6px;
  background:var(--bg-soft);
  border-radius:10px;
}
#suggestions div{
  padding:6px 10px;
  cursor:pointer;
}
#suggestions div:hover{
  background:rgba(255,255,255,.08);
}

/* ===============================
   ğŸ•’ ìµœê·¼ ê²€ìƒ‰
   =============================== */
#recentWrapper{
  margin-top:10px;
  padding:10px;
  border-radius:12px;
  background:var(--bg-soft);
}
#recentList li{
  display:flex;
  justify-content:space-between;
  padding:4px 6px;
  border-radius:6px;
  cursor:pointer;
}
#recentList li:hover{
  background:rgba(255,255,255,.08);
}

/* ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ ë©”ì‹œì§€ */
#noResult{
  display:none;
  color:#ff6b6b;
  margin:10px 0;
}

/* ===============================
   ğŸ§© ê´€ê³„ ê·¸ë˜í”„ ë…¸ë“œ
   =============================== */
.node{
  padding:10px 14px;
  border-radius:20px;
  font-size:.95rem;
  color:#fff;
}

/* ê´€ê³„ë³„ ìƒ‰ìƒ */
.node.green{ background:#2ecc71; }  /* ë‚´ê°€ ì¢‹ì•„í•¨ */
.node.orange{ background:#f39c12; } /* ë‚˜ë¥¼ ì¢‹ì•„í•¨ */
.node.red{ background:#e74c3c; }    /* ê²½ìŸ */
.node.gray{
  background:#777;                  /* ê´€ê³„ ì—†ìŒ (ë‹¤í¬ ëª¨ë“œ) */
  color:#111;
}

/* â­ ë¼ì´íŠ¸ ëª¨ë“œì—ì„œ ê´€ê³„ ì—†ìŒ */
body.light .node.gray{
  background:#dcdcdc;
  color:#333;
}

/* ===============================
   ğŸ“˜ ë²”ë¡€
   =============================== */
#legend{
  margin-top:10px;
  font-size:.85rem;
  opacity:.85;
}

/* ===============================
   ğŸªŸ ì—…ë°ì´íŠ¸ ëª¨ë‹¬
   =============================== */
#updateModal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
#updateModal.hidden{display:none;}

.modal{
  width:400px;
  max-width:90%;
  background:var(--bg-card);
  padding:20px;
  border-radius:16px;
}
.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

/* ===============================
   ğŸ“± ëª¨ë°”ì¼ ëŒ€ì‘
   =============================== */
@media(max-width:900px){
  .container{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<!-- ===============================
     ğŸ˜± ê³µí¬ê° ëª¨ë‹¬
     =============================== -->
<div id="scaryModal" style="
    position:fixed; inset:0; background:#111; color:#fff;
    display:flex; justify-content:center; align-items:center; font-size:1.5rem;
    z-index:9999; flex-direction:column;
">
  <p id="scaryText">IP ìˆ˜ì§‘ ì¤‘</p>
</div>

<!-- ìƒë‹¨ ê²½ê³  -->
<div class="notice-bar">
âš  ë¹„ê³µê°œ ì •ë³´ í¬í•¨ Â· ì™¸ë¶€ ê³µìœ  ì ˆëŒ€ ê¸ˆì§€
</div>

<!-- í—¤ë” -->
<header>
  <h1>ğŸ¤« Secret Search ğŸ¤«</h1>
  <!-- ë‹¤í¬/ë¼ì´íŠ¸ ì „í™˜ ë²„íŠ¼ -->
  <button id="toggleMode">ë¼ì´íŠ¸ ëª¨ë“œ</button>
</header>

<div class="container">

  <!-- ===============================
       ğŸ§  ë©”ì¸ ì˜ì—­
       =============================== -->
  <div class="card">

    <!-- ê²€ìƒ‰ì°½ -->
    <div class="search-box">
      <input id="search" placeholder="ì´ë¦„ ê²€ìƒ‰">
      <button id="searchBtn">ê²€ìƒ‰</button>
    </div>

    <!-- ìë™ì™„ì„± -->
    <div id="suggestions"></div>

    <!-- ìµœê·¼ ê²€ìƒ‰ -->
    <div id="recentWrapper">
      <h4>ìµœê·¼ ê²€ìƒ‰</h4>
      <ul id="recentList"></ul>
    </div>

    <!-- ê²€ìƒ‰ ê²°ê³¼ -->
    <p id="noResult">ğŸ” ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    <h3>ğŸ” ê²€ìƒ‰ ê²°ê³¼</h3>
    <ul id="result"></ul>

    <!-- ë²”ë¡€ -->
    <div id="legend">
      â¤ï¸ ì—°ì•  ğŸ’” ê³¼ê±° â¡ï¸ ì§ì‚¬ë‘ ğŸ” ì„œë¡œ<br>
      ğŸŸ¢ ë‚´ê°€ ì¢‹ì•„í•¨ ğŸŸ  ë‚˜ë¥¼ ì¢‹ì•„í•¨ ğŸ”´ ê²½ìŸ âšª ê´€ê³„ì—†ìŒ
    </div>

    <!-- ê°ì¢… ë¬¸ì˜ ì•ˆë‚´ -->
    <p style="margin-top:10px; font-size:0.9rem; opacity:0.7;">
    ğŸ’Œ ê°ì¢… ë¬¸ì˜ëŠ” Discord DMìœ¼ë¡œ: <a href="https://discord.com/users/wachi0_0" target="_blank">wachi0_0</a>
    </p>

  </div>

  <!-- ===============================
       ğŸ“Š ì‚¬ì´ë“œ ì˜ì—­
       =============================== -->
  <div>

    <!-- ì¸ê¸°ìˆœìœ„ -->
    <div class="card">
      <h3>ğŸ”¥ ì¸ê¸°ìˆœìœ„ TOP 10</h3>
      <ul id="rank"></ul>
    </div>

    <!-- ê´€ê³„ ê·¸ë˜í”„ -->
    <div class="card" id="graphCard" style="display:none;margin-top:20px">
      <h3>ğŸ§  ê´€ê³„ ê·¸ë˜í”„</h3>
      <div id="graph" style="display:flex;flex-wrap:wrap;gap:10px;"></div>
    </div>

  </div>
</div>

<!-- ===============================
     ğŸªŸ ì—…ë°ì´íŠ¸ ëª¨ë‹¬
     =============================== -->
<div id="updateModal">
  <div class="modal">
    <div class="modal-header">
      <h3>ì—…ë°ì´íŠ¸ v5.4.1</h3>
      <span id="closeUpdate" style="cursor:pointer">âœ–</span>
    </div>
    <p>
      â€¢ ë³´ì•ˆ ê°•í™”<br>
      â€¢ ê°ì¢… ë²„ê·¸ ê°œì„ <br>
      â€¢ í¸ì˜ì„± ê¸°ëŠ¥ ì¶”ê°€ê°€
    </p>
  </div>
</div>

<script>
/* ===============================
   ğŸŒ— ë‹¤í¬ / ë¼ì´íŠ¸ ëª¨ë“œ í† ê¸€
   =============================== */
toggleMode.onclick=()=>{
  document.body.classList.toggle("light");
  toggleMode.textContent=
    document.body.classList.contains("light")
    ? "ë‹¤í¬ ëª¨ë“œ"
    : "ë¼ì´íŠ¸ ëª¨ë“œ";
};

/* ===============================
   ğŸ˜± ê³µí¬ê° ëª¨ë‹¬ ì—°ì¶œ
   =============================== */
const scaryModal = document.getElementById("scaryModal");
const scaryText = document.getElementById("scaryText");

let dots = 0;
const interval = setInterval(()=>{
  scaryText.textContent = "IP ìˆ˜ì§‘ ì¤‘" + ".".repeat(dots%4);
  dots++;
},500);

setTimeout(()=>{
  clearInterval(interval);
  scaryModal.style.display = "none";
},3000);

/* ===============================
   ğŸ“¦ ê´€ê³„ ë°ì´í„°
   =============================== */
const relations = [
  {from:"ì¡°ë¯¼ì¤€",to:"ë¬¸íš¨ì§„",type:"breakup"},
  {from:"ê°•ëª…êµ¬",to:"í™©í˜œë¹ˆ",type:"dating"},
  {from:"ì¡°ì—°ì•„",to:"ê¹€ë„ì—½",type:"crush"},
  {from:"ì†ì˜ˆì›",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"ìµœí•˜ë¦°",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"ì¡°ì—°ì•„",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"ì–‘ì œí˜„",to:"ì¡°ì—°ì•„",type:"breakup"},
  {from:"ë¯¼ì •í˜¸",to:"ì´ìˆ˜í˜„",type:"crush"},
  {from:"ìµœì‹œí›ˆ",to:"ìœ ë™ìš°",type:"mutual"},
  {from:"ìµœì‹œí›ˆ",to:"ì „ì¤€í˜•",type:"dating"},
  {from:"ì•ˆì§„ìš°",to:"ìµœí•˜ë¦°",type:"breakup"},
  {from:"ê¹€ë„ì—½",to:"ìµœí•˜ë¦°",type:"crush"},
  {from:"ì†ì§€í˜¸",to:"ë¯¼íš¨ì£¼",type:"breakup"},
  {from:"ì´ë¯¿ìŒ",to:"ì´ê°€ìœ¨",type:"breakup"},
  {from:"ë¯¼ì •í˜¸",to:"ì¡°ì—°ì•„",type:"crush"},
  {from:"ì¡°í•˜ì˜",to:"ì´ë¯¿ìŒ",type:"crush"},
  {from:"ê¹€ë™ìœ¤",to:"ë¥˜ì§€ìš°",type:"crush"},
  {from:"ê¹€ë™ìœ¤",to:"ì†ì˜ˆì›",type:"crush"},
  {from:"ì •ì€ìš°",to:"ì‹¬ì±„ì›",type:"crush"},
  {from:"ë°•ì„±ì œ",to:"ìµœí•˜ë¦°",type:"crush"},
  {from:"ì¥ê±´ìš°",to:"ì‹ ì•„ë¦°",type:"crush"},
  {from:"ë°•ë‹¤ì˜¨",to:"ì •ì—°ì¬",type:"breakup"},
  {from:"ê¶Œí¬í˜„",to:"ë°•ë‹¤ì˜¨",type:"breakup"},
  {from:"ê¹€ë™ìœ¤",to:"í™©í•˜ë¦¼",type:"crush"},
  {from:"ë°©í›ˆíƒœ",to:"ë¥˜ì§€ìš°",type:"crush"},
  {from:"ë¯¼íš¨ì£¼",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"ë¯¼íš¨ì£¼",to:"ì–‘ì œí˜„",type:"crush"},
  {from:"ë¯¼íš¨ì£¼",to:"ì¥ê±´ìš°",type:"crush"},
  {from:"ë¯¼íš¨ì£¼",to:"ê¹€ë„ì—½",type:"crush"},
  {from:"ì´ì„œìœ¤",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"ë¥˜ì§€ìš°",to:"ê¹€ì •í›ˆ",type:"crush"},
  {from:"ì´ì„œìœ¤",to:"ì •ìœ ì¤€",type:"crush"},
  {from:"ë¬¸íš¨ì§„",to:"ì „ì¤€í˜•",type:"crush"},
  {from:"í—ˆë™í•˜",to:"ì†ì˜ˆì›",type:"crush"},
  {from:"ê¹€ì¤€ìš°",to:"ìµœí•˜ë¦°",type:"crush"},
  {from:"ê¹€ê°€ì˜",to:"ë…¸ë¬´í˜„",type:"crush"},
  {from:"í—ˆë™í•˜",to:"ì´ìˆ˜í˜„",type:"crush"},
  {from:"í—ˆë™í•˜",to:"ê¹€ê·œë¦¬",type:"crush"},
  {from:"ê¹€ë™ê±´",to:"ê¹€ì¬í¬",type:"crush"},
  {from:"í—ˆë™í•˜",to:"ìµœí•˜ë¦°",type:"crush"},
  {from:"ê°•ëª…êµ¬",to:"ë¬¸íš¨ì§„",type:"breakup"},
  {from:"ë°©í›ˆíƒœ",to:"ì„ìœ ë¦¬",type:"breakup"},
  {from:"ë°•ê²½ë‹´",to:"ì¡°ì—°ì•„",type:"crush"},
  {from:"ê¹€ë„ì›",to:"ì‹¬ì±„ì›",type:"crush"},
  {from:"ì´ì§€ìš°",to:"ì•ˆì§„ìš°",type:"dating"},
  {from:"ì´ë¯¿ìŒ",to:"ì‹ ì•„ë¦°",type:"crush"},
  {from:"ìœ ë™ìš°",to:"ì¡°í•˜ì˜",type:"crush"},
  {from:"ê¹€ë„ì—½",to:"ìµœì‹œí›ˆ",type:"crush"},
  {from:"ë°©í›ˆíƒœ",to:"ìµœì‹œí›ˆ",type:"crush"},
  {from:"í—ˆë™í•˜",to:"ì‹ ì•„ë¦°",type:"breakup"},
  {from:"ë°©í›ˆíƒœ",to:"í™©í˜œë¹ˆ",type:"breakup"},
  {from:"ê¹€ë¯¼ì„œ",to:"ì´ì˜ˆë‚˜",type:"crush"}
];

/* ===============================
   ğŸ”§ DOM ìš”ì†Œ ì°¸ì¡°
   =============================== */
const search=document.getElementById("search");
const result=document.getElementById("result");
const recentList=document.getElementById("recentList");
const suggestions=document.getElementById("suggestions");
const graphCard=document.getElementById("graphCard");
const graph=document.getElementById("graph");

/* ì „ì²´ ì¸ë¬¼ ì´ë¦„ ëª©ë¡ */
const names=[...new Set(relations.flatMap(r=>[r.from,r.to]))];

/* ìµœê·¼ ê²€ìƒ‰ (ë¡œì»¬ìŠ¤í† ë¦¬ì§€) */
let recent=JSON.parse(localStorage.getItem("recent")||"[]");

/* ===============================
   ğŸ•’ ìµœê·¼ ê²€ìƒ‰ ë Œë”ë§
   =============================== */
function renderRecent(){
  recentList.innerHTML="";
  recent.forEach(n=>{
    const li=document.createElement("li");
    li.innerHTML=`<span>${n}</span><span>âŒ</span>`;

    /* í´ë¦­ ì‹œ ë‹¤ì‹œ ê²€ìƒ‰ */
    li.children[0].onclick=()=>{
      search.value=n;
      run();
    };

    /* ì‚­ì œ ë²„íŠ¼ */
    li.children[1].onclick=e=>{
      e.stopPropagation();
      recent=recent.filter(x=>x!==n);
      localStorage.setItem("recent",JSON.stringify(recent));
      renderRecent();
    };

    recentList.appendChild(li);
  });
}
renderRecent();

/* ===============================
   âœ¨ ìë™ì™„ì„± ì²˜ë¦¬
   =============================== */
search.oninput=()=>{
  suggestions.innerHTML="";
  const q=search.value.trim();
  if(!q) return;

  names.filter(n=>n.includes(q)).forEach(n=>{
    const d=document.createElement("div");
    d.textContent=n;
    d.onclick=()=>{
      search.value=n;
      run();
    };
    suggestions.appendChild(d);
  });
};

/* ===============================
   ğŸ§  ê´€ê³„ ê·¸ë˜í”„ ìƒì„±
   =============================== */
function renderGraph(center){
  graph.innerHTML="";
  graphCard.style.display="block";

  const likes=relations.filter(r=>r.from===center).map(r=>r.to);
  const likedBy=relations.filter(r=>r.to===center).map(r=>r.from);
  const competitors=relations
    .filter(r=>likes.includes(r.to)&&r.from!==center)
    .map(r=>r.from);

  names.forEach(p=>{
    if(p===center) return;

    let cls="gray";
    if(likes.includes(p)) cls="green";
    else if(likedBy.includes(p)) cls="orange";
    else if(competitors.includes(p)) cls="red";

    const d=document.createElement("div");
    d.className=`node ${cls}`;
    d.textContent=p;
    graph.appendChild(d);
  });
}

/* ===============================
   ğŸ” ê²€ìƒ‰ ì‹¤í–‰
   =============================== */
function run(){
  const q=search.value.trim();
  result.innerHTML="";
  graphCard.style.display="none";
  if(!q) return;

  const found=relations.filter(r=>r.from===q||r.to===q);
  if(!found.length) return;

  /* ìµœê·¼ ê²€ìƒ‰ ì €ì¥ */
  recent=[q,...recent.filter(x=>x!==q)].slice(0,10);
  localStorage.setItem("recent",JSON.stringify(recent));
  renderRecent();

  /* ê²€ìƒ‰ ê²°ê³¼ ì¶œë ¥ */
  found.forEach(r=>{
    const icon =
      r.type==="dating"?"â¤ï¸":
      r.type==="breakup"?"ğŸ’”":
      r.type==="mutual"?"ğŸ”":"â¡ï¸";
    const li=document.createElement("li");
    li.textContent=`${r.from} ${icon} ${r.to}`;
    result.appendChild(li);
  });

  renderGraph(q);
}

/* ë²„íŠ¼/ì—”í„° ì—°ê²° */
searchBtn.onclick=run;
search.onkeydown=e=>{if(e.key==="Enter")run();};

/* ===============================
   ğŸ”¥ ì¸ê¸°ìˆœìœ„ ê³„ì‚°
   =============================== */
const rank=document.getElementById("rank");
const score={};

relations.forEach(r=>{
  score[r.to]=(score[r.to]||0)+1;
});

rank.innerHTML=Object.entries(score)
  .sort((a,b)=>b[1]-a[1])
  .slice(0,10)
  .map(e=>`<li>${e[0]} (${e[1]})</li>`)
  .join("");


/* ì—…ë°ì´íŠ¸ ëª¨ë‹¬ ë‹«ê¸° */
closeUpdate.onclick=()=>{updateModal.classList.add("hidden");};
</script>

</body>
</html>

